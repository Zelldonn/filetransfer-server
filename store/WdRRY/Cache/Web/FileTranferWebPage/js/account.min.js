Airdroid.Module.TestAccount=Airdroid.Util.extend(Airdroid.Base,{events:{"click .addAccount":"addAccountHandle","click .addAccountNo":"addAccountNoHandle","click .setPremium":"setPremium","click .setFree":"setFree","click .setUnlock":"setUnlock","click .setDataflow":"setDataflow","click .changeDeviceStatu":"changeDeviceStatu","click .addDevice":"addDevice","click .delDevice":"delDevice","click .setPremiumNoRecurring":"setPremiumNoRecurring"},defaultOpt:{icon:"../../img/avatar_90.png",nickName:"kbz",mail:"kebingzao@gmail.com",accountType:"2",isRecurring:"1",noLimitMode:"0",dataflow:{left_day:22,total:1073741824,used:64845033,total_day:30},devices:[{id:"1",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"2222222222222222222222222",state:4},{id:"2",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"3",state:2},{id:"3",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:3},{id:"4",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"5",state:3},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4},{id:"5",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"6",state:3},{id:"6",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:4}]},_construct:function(){var a=this;Airdroid.Util.addPCInterface({triggerActive:function(b){var c=JSON.parse(b);switch(c.operation){case a.pcApi.triggerActive.action.account:alert("");break;case a.pcApi.triggerActive.action.premium:alert("");break;case a.pcApi.triggerActive.action.moreQuota:alert("");break;case a.pcApi.triggerActive.action.bind:alert("pc");break;case a.pcApi.triggerActive.action.goCrop:alert("");break;case a.pcApi.triggerActive.action.refreshDeviceState:setTimeout(function(){a.addDevice()},3e3);break;case a.pcApi.triggerActive.action.goVNC:alert("vnc,id："+c.deviceId);break;case a.pcApi.triggerActive.action.unbindDevice:alert(",id："+c.deviceId)}}})},onCreate:function(a){var b=this;this.parentModule=a,this._refDOM=this.containDom=$(b.util.getTemplate("Test",a.moduleName)),a.setTestApiContent(this._refDOM)},getUniqId:function(){return Math.floor(1e7*Math.random())},addAccountHandle:function(){var a=this;a.updateAccount(this.updateParams({}))},addAccountNoHandle:function(){var a=this;a.updateAccount({dataflow:{left_day:"",total:"",used:"",total_day:""}})},setPremium:function(){var a=this;a.updateAccount({accountType:1,isRecurring:"1"})},setPremiumNoRecurring:function(){var a=this;a.updateAccount({accountType:1,isRecurring:"0"})},setFree:function(){this.updateAccount({accountType:2})},setUnlock:function(){this.updateAccount({accountType:3})},setDataflow:function(){var a=this;this.updateAccount({dataflow:{left_day:22,total:1073741824,used:a.find(".dataflowInput").val()}})},changeDeviceStatu:function(){var a=this.find(".deviceState").val(),b=this.find(".deviceStateType").val();this.updateAccount({devices:[{id:a,state:b}]})},updateParams:function(a){return $.extend(!0,{},this.defaultOpt,{id:this.getUniqId()},a)},updateAccount:function(a){PC_API("Account_updateAccount",a)},addDevice:function(){this.updateAccount({devices:[{id:"1",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"2222222222222222222222222",state:1},{id:"2",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"3",state:2},{id:"3",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:3}]})},delDevice:function(){this.find(".deviceState").val();this.updateAccount({devices:[{id:"1",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"2222222222222222222222222",state:1},{id:"2",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"3",state:2},{id:"3",icon:"http://test-img.airdroid.com/devices/xiaomi/mi2-s.png",name:"4",state:3}]})}}),Airdroid.Module.Account=Airdroid.Util.extend(Airdroid.Base,{moduleName:Airdroid.Config.Module.Account,events:{"click .item-action":"actionHandle","click .item-icon-edit-hover":"actionHandle","click .item-nickname":"enterNicknameEdit","keyup .item-input-name":"keyupHandle","mouseenter .item-device-name":"deviceNameMouseEnterHandle","mouseleave .item-device-name":"deviceNameMouseLeaveHandle","mouseenter .item-device-tip":"deviceTipMouseEnterHandle","mouseleave .item-device-tip":"deviceTipMouseLeaveHandle","mouseenter .item-icon":"iconMouseEnterHandle","mouseleave .item-icon":"iconMouseLeaveHandle","click .item-device-refresh":"refreshDeviceStateHandle","click .item-device-icon":"clickDeviceImgHandle","click .item-unbind":"deviceUnbindHandle","click .mod-Account-body":"blur","click .item-input-name":"focus"},_construct:function(){},_accountInfo:{},_isTipEnter:!1,_isDeviceEnter:!1,DEVICE_ACTION:{ADD:"1",DEL:"2"},onCreate:function(){var a=this;if(this.clear(),this._refDOM=$(a.util.getTemplate("Account","index")),this.setContent(this._refDOM),this.setBodyHeight(616),this._detailDom=this.find(".mod-Account-body"),this.config.isDebug){var b=new Airdroid.Module["Test"+this.moduleName];b.createAppView(this)}this.registerWebInterface({updateAccount:"updateAccount"}),this.showLoadingMask(null,!0),this.util.preloadImage("round-gray-hover.png"),this.util.preloadImage("refresh_loading.gif")},changeNickname:function(a){var b=this._refDOM.find(".item-input-name"),c=b.val(),d=b.attr("value");return""===c.trim()?(b.val(b.attr("value")),void this.exitNicknameEdit()):d===c?(console.log("No change.  ","name:",d),void this.exitNicknameEdit()):(b.attr("value",c),console.log("changeNickname:",c),this.util.triggerPCInterface(JSON.stringify({action:this.pcApi.triggerActive.name,operation:this.pcApi.triggerActive.action.changeNickname,name:c})),void this.exitNicknameEdit())},enterNicknameEdit:function(a){a.stopPropagation();var b=this._refDOM.find(".item-input-name"),c=this._refDOM.find(".item-nickname");console.log("enterNicknameEdit:"+b.val()),b.addClass("focus"),b.removeClass("hide"),c.addClass("hide"),b.focus()},exitNicknameEdit:function(){var a=this._refDOM.find(".item-nickname"),b=this._refDOM.find(".item-input-name");a.text(b.val()),console.log("exitNicknameEdit:"+b.val()),this.updateInputNameWidth(),b.removeClass("focus"),b.addClass("hide"),a.removeClass("hide")},keyupHandle:function(a){var b=a.target,c=$(b);return 27===a.keyCode?(c.val(c.attr("value")),b.blur(),void this.exitNicknameEdit()):(13===a.keyCode&&(a.preventDefault(),this.changeNickname(),b.blur()),this.updateInputNameWidth(),void console.log(a.keyCode))},updateInputNameWidth:function(){var a=90,b=150,c=12,d=this._refDOM.find(".item-input-name"),e=this._refDOM.find(".item-nickname"),f=d.val().replace(/[\u4e00-\u9fa5]/g,"xx").length,g=a+Math.max((f-8)*c,0);g=Math.min(b,g),d.width(g),e.width(g)},actionHandle:function(a){var b=this,c=$(a.currentTarget).attr("data-cmd");this.util.triggerPCInterface(JSON.stringify({action:b.pcApi.triggerActive.name,operation:c}))},showDeviceTip:function(a){var b=this.find(".item-device-tip"),c=b.attr("class");if(c.indexOf("item-device-tip-")>-1){var d=c.replace(/item-device-tip-([\d]+? {0,1})/g,"item-device-tip-"+a+" ");b.attr("class",d)}else b.addClass("item-device-tip-"+a)},hideDeviceTip:function(){var a=this.find(".item-device-tip");if(a.length>0){var b=a.attr("class"),c=b.replace(/item-device-tip-([\d]+? {0,1})/g," ");a.attr("class",c)}},moduleClickHandle:function(){this.hideDeviceTip()},deviceNameClickHandle:function(a){this.hideDeviceTip();var b=$(a.currentTarget).closest(".item-device-item").attr("data-index");return this.showDeviceTip(b),!1},deviceNameMouseEnterHandle:function(a){var b=$(a.currentTarget).closest(".item-device-item").attr("data-index");this._isDeviceEnter=!0,this.showDeviceTip(b)},deviceNameMouseLeaveHandle:function(a){var b=this;this._isDeviceEnter=!1;$(a.currentTarget).closest(".item-device-item").attr("data-index");setTimeout(function(){b._isTipEnter||b._isDeviceEnter||b.hideDeviceTip()},50)},deviceTipMouseEnterHandle:function(a){this._isTipEnter=!0},deviceTipMouseLeaveHandle:function(a){var b=this;this._isTipEnter=!1,setTimeout(function(){b._isDeviceEnter||b.hideDeviceTip()},50)},iconMouseEnterHandle:function(){this.find(".round-border").addClass("item-icon-edit-hover")},iconMouseLeaveHandle:function(){this.find(".round-border").removeClass("item-icon-edit-hover")},refreshDeviceStateHandle:function(a){var b=this;$(a.currentTarget).addClass("item-refresh-loading"),this.util.triggerPCInterface(JSON.stringify({action:b.pcApi.triggerActive.name,operation:b.pcApi.triggerActive.action.refreshDeviceState}))},clickDeviceImgHandle:function(a){var b=this,c=$(a.currentTarget);this.util.triggerPCInterface(JSON.stringify({action:b.pcApi.triggerActive.name,operation:b.pcApi.triggerActive.action.goVNC,deviceId:c.closest(".item-device-item").attr("data-id")}))},deviceUnbindHandle:function(a){var b=this,c=$(a.currentTarget);this.util.triggerPCInterface(JSON.stringify({action:b.pcApi.triggerActive.name,operation:b.pcApi.triggerActive.action.unbindDevice,deviceId:c.closest(".item-device-item").attr("data-id")}))},dataflowUsedWidth:function(a){if(a.used&&0!=a.used){var b=100*(a.used/a.total).toFixed(3);return b>1?"display:block;width:"+b+"%":"display:block;width:1%"}return"display:none"},focus:function(a){a.stopPropagation(),this._refDOM.find(".item-input-name").addClass("focus")},blur:function(a){console.log("blur"),this._refDOM.find(".item-input-name").removeClass("focus"),this.changeNickname(a)},hidePremiumInfo:function(a){this._detailDom.find(".item-des-con").css("border","none"),this._detailDom.find(".item-dataflow-con").hide(),this._detailDom.find(".item-premium-flag").hide(),this._detailDom.find(".item-action").hide(),this._detailDom.find(".item-type-free").remove(),this._detailDom.find(".item-type-premium").remove()},updateAccount:function(a){if(!this._refDOM.find(".item-input-name").hasClass("focus")){this.hideLoadingMask(),this._detailDom.empty(),this._detailDom.attr("data-id",a.id),this._accountInfo.devices={},this._accountInfo=$.extend(!0,{},this._accountInfo,a);var b=this.util.getTemplate("Account","detail",{item:this._accountInfo}).trim();this.util.checkIsIE()&&(this._detailDom.html(""),this.reinitScrollbar()),this._detailDom.html(b),"1"==a.noLimitMode&&this.hidePremiumInfo(a),this.updateInputNameWidth(),this.reinitScrollbar()}}});